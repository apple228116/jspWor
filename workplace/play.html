<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" type="text/css">
    <title>hey!my friend!</title>
    <link rel="stylesheet" href="./bootstrap.min.css">
    <script src="./jquery.min.js"></script>
    <script src="./bootstrap.min.js"></script>
    <link rel="stylesheet" href="./animate.min.css">
    <style>
      #carouselExampleCaptions{
        background: url('./images/city.jpg');
        background-size: 100% 100%;
        width: 100%;
        height: 600px;
      }
      #carouselExampleCaptions img{
        height: 600px;
        width: auto;
        margin: 0 auto;
      }
      .carousel-item{
        height: 100%;
        width: 100%;
      }
      #title{
        color: #f40;
        background-color: rgba(235,225,209,.7);
        z-index: 999;
        text-align: center;
      }
      h1,h2,h3,h4,h5,h6{
        text-align: center;
        color: #f40;
      }
      em{
        font-style: normal;
        display: block;
        color: #f40;
        height: 100px;
        line-height: 100px;
        text-align: center;
        font-size: 22px;
      }
      em:hover{
        cursor: pointer;
        background-color: skyblue;
        text-decoration: underline;
      }
      .clickClass{
        
        background-color: yellowgreen;
      }
      .row{
        background-color: azure;
      }
      #page>div{
        display: none;
      }
      main{
        min-height: 1000px;
        background-color:burlywood;
      }
      footer{
        height: 300px;
        background-color: aliceblue;
      }
      .card:hover{
        cursor: pointer;
        background-color:orange;
        color: #f40;
      }
      #pageJudge>.col{
        border-radius: 15px;
      }
    </style>
</head>
<body>

  <header>
    <div class="bd-example">
      <div id="carouselExampleCaptions" class="carousel slide" data-keyboard="true" data-ride="carousel">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleCaptions" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="1"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="2"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="3"></li>
          <li data-target="#carouselExampleCaptions" data-slide-to="4"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="./images/goodshow (55).png" class="d-block" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>游泳不是一种优雅，而是唯一的优雅。</h5>
            </div>
          </div>
          <div class="carousel-item">
            <img src="./images/goodshow (61).png" class="d-block" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>每个不曾起舞的今天，都是对生命的一种辜负。</h5>
            </div>
          </div>
          <div class="carousel-item">
            <img src="./images/goodshow (62).png" class="d-block" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>亚索，接好了！一库~~~</h5>
            </div>
          </div>
          <div class="carousel-item">
            <img src="./images/goodshow (48).png" class="d-block" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>加油!你差点就防到我了。</h5>
            </div>
          </div>
          <div class="carousel-item">
            <img src="./images/goodshow (16).png" class="d-block" alt="...">
            <div class="carousel-caption d-none d-md-block">
              <h5>待我君临天下，许你四海为家。</h5>
            </div>
          </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleCaptions" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleCaptions" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
  </header>
    
  <main>
    <p id='title' class='showTitle'><span id='name'></span>,欢迎您！您的身份是<span id='Aname'></span><span id='role'></span></p>
    <p class='showTitle'>欢迎您！游客6666</p>
    <h1>加入一个社团，发现更好的自己！</h1>
    <div class="container-fluid">
      <div class='row' id='pageJudge'>
        <em class='col'>
          所有社团
        </em>
        <em class='col'>
          我的社团成员
        </em>
        <em class='col'>
          我的社团公告
        </em>
        <em class='col'>
          我的社团活动
        </em>
        <em class='col'>
          加入社团申请
        </em>
      </div>

      <div id='page'>
        
        <div  class="clearfix">
          <div class="card float-left" style="width: 300px;">
            <img class="card-img-top" src="./images/goodshow (55).png" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title">游泳社</h5>
              <p class="card-text">游泳不是一种优雅，而是唯一的优雅。</p>
              <button class="btn btn-warning">加入</button>
            </div>
          </div>
          <div class="card float-left" style="width: 300px;">
            <img class="card-img-top" src="./images/goodshow (61).png" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title">舞蹈社</h5>
              <p class="card-text">每个不曾起舞的一天，都是对生命的一种辜负。</p>
              <button class="btn btn-warning">加入</button>
            </div>
          </div>
          <div class="card float-left" style="width: 300px;">
            <img class="card-img-top" src="./images/goodshow (62).png" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title">足球社</h5>
              <p class="card-text">亚索，接好了！一库~~~</p>
              <button class="btn btn-warning">加入</button>
            </div>
          </div>
          <div class="card float-left" style="width: 300px;">
            <img class="card-img-top" src="./images/goodshow (48).png" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title">羽毛球社</h5>
              <p class="card-text">加油!你差点就防到我了。</p>
              <button class="btn btn-warning">加入</button>
            </div>
          </div>
          <div class="card float-left" style="width: 300px;">
            <img class="card-img-top" src="./images/goodshow (16).png" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title">探险社</h5>
              <p class="card-text">待我君临天下，许你四海为家。</p>
              <button class="btn btn-warning">加入</button>
            </div>
          </div>
        </div>

        <div id='Ainformation'>
          <table class="table">
            <thead>
              <tr>
                <th scope="col">No.</th>
                <th scope="col">名称</th>
                <th scope="col">社团名称</th>
                <th scope="col">角色</th>
                <th scope="col">操作</th>
              </tr>
            </thead>
            <tbody id='userBody'>
              
            </tbody>
          </table>
        </div>

        <div id='advertise'>
          <h1>Aname 足球社</h1>
          <h3>Apinfo 我用双脚成就你的梦想</h3>
          <h2>content</h2>
        </div>

        <div id='information'>
          <div class="card" style="width: 18rem;">
            <div class="card-body">
              <h5 class="card-title">title 友谊联赛</h5>
              <p class="card-text">content 想踢球的同学明天下午三点钟操场集合!</p>
              <button class="btn btn-warning" style='margin: 0 auto;'>参加</button>
            </div>
          </div>
        </div>

        <div id='join'>
          <table class="table">
            <thead>
              <tr>
                <th scope="col">No.</th>
                <th scope="col">社团名称</th>
                <th scope="col">社团宣言</th>
                <th scope="col">操作</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>足球社</td>
                <td>一库</td>
                <td>
                  <button type="button" class="btn btn-success">加入</button>
                </td>
              </tr>
              <tr>
                <td>1</td>
                <td>足球社</td>
                <td>一库</td>
                <td>
                  <button type="button" class="btn btn-success">加入</button>
                </td>
              </tr>
              <tr>
                <td>1</td>
                <td>足球社</td>
                <td>一库</td>
                <td>
                  <button type="button" class="btn btn-success">加入</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>
	

  <footer>hey!</footer>



    <script>

     $('#name').text(sessionStorage.getItem('name'))
     $('#Aname').text(sessionStorage.getItem('Aname'))
     $('.showTitle').eq(1).css('display','none')
    //  let tmp = $()
    var role = parseInt(sessionStorage.getItem('role'))
    if(role===2){
      $('#role').text('管理员')
    }else if(role===0){
      $('.showTitle').eq(0).css('display','none')
      $('.showTitle').eq(1).css('display','block')
      $('#pageJudge>.col').eq(1).css('display','none')
      $('#pageJudge>.col').eq(2).css('display','none')

    }else{
      $('#role').text('会员')
    }
     $('.carousel').carousel({
      interval: 3000
     })
     
     $('#page>div').eq(0).css('display','block')
    $('#page>div').addClass('animate__animated animate__backInDown')
     $('#pageJudge>em').eq(0).addClass('clickClass')
      $('#pageJudge>em').each(function(i,v){
        $(v).click(function(){
          $(this).addClass('clickClass').siblings().removeClass('clickClass')
          $('#page>div').eq(i).css('display','block').siblings().css('display','none')
          $('#page>div').eq(i).addClass('animate__animated animate__backInDown')
                .siblings().removeClass('animate__animated animate__backInDown')
          if(i===1){
            $.ajax({
              url: 'http://127.0.0.1:8085/t81/shiyan1Servlet',
              dataType: 'json',
              headers:{"Content-Type":"text/plain;charset=UTF-8"},
              data: {
                'play':'5',
                'tableName':'user'
                },
              success:function(data){
                if(!data.msg){
                  for(var i=0;i<data.length;i++){
                    user.push(data[i]) // 把二维数组装进去
                  }

                  for(var i=0;i<data.length;i++){
                    $("#userBody").append("<tr>");
                    $("#userBody").append("<td>"+data[i][0]+"</td>");
                    let tmpRole = parseInt(data[i][5])
                    for(var j=3;j<data[i].length;j++){
                      if(j===5){
                        data[i][j] = (tmpRole===3)?'管理员':'会员'
                        user[i][j] = tmpRole
                      }
                      $("#userBody").append("<td>"+data[i][j]+"</td>")
                    }
                    if(role===2){
                      $("#userBody").append("<td><button type='button' class='btn btn-success'>编辑</button><button type='button' class='btn btn-danger'>删除</button></td></tr>");
                    }else{
                      $("#userBody").append("<td><button type='button' class='btn btn-success'>添加好友</button></td>")
                    }
                  }
                }else{
                  alert("获取数据错误啦！")
                  return false;
                }
              },
              error:function(){
                alert('请求错误！')
              }
            })
          }
        })
      })

      var associathion = []
          ,user = []
          ,introduce = []
          ,information = []
          ,joinAname = [];

    $('#pageJudge>.col').each(function(i,v){
      $(v).hover(function(){
        $(this).addClass('animate__animated animate__jello').siblings().removeClass('animate__animated animate__jello')
      })
    })

          

    </script>
</body>
</html>  